# 1-名词解释

### Ethereum Network

以太坊网络是一种去中心化(decentralized)网络，由分布在各地的节点(node)共同维护。维护的内容是交易记录(transcation)。在以太坊中一切操作都叫做交易，不仅指转账，也指执行智能合约等操作。

一些节点负责验证多笔交易是否合法，并产出区块和其他节点同步。一个节点产出区块后，其他验证者(validator)会在自己本地也进行计算以验证是否和产出区块一致。任何人都可以把自己的服务器变成一个节点，但只有质押了32ETH的节点才能成为validator

### PoS & PoW & PoA

即权益证明、工作量证明、xx证明。PoA是最原始的，通常用于开发调试的时候，方便但不安全。PoW是工作量证明，小号算力以产出区块，即挖矿，以太坊现已弃用，但是其他链仍然存在。PoS是升级后的以太坊所采用的，通过质押32ETH来保证节点不进行恶意操作，一旦出现恶意行为就会惩罚节点。

### EVM

以太坊虚拟机。整个以太坊区块链实际上是全体以太坊节点和节点状态的集合。每个节点会运行以下几个程序：执行客户端、共识客户端、验证客户端（可选）。其中共识客户端负责PoS下的共识，执行客户端则实现了以太坊虚拟机，可以执行智能合约编译后的操作码。各个节点通过共识算法等手段保证每个节点上的以太坊虚拟机状态都相同。

事实上以太坊本身是一种协议，任何实现了以太坊协议的程序都能用作部署以太坊节点时的程序，因此，上述客户端存在许多第三方版本，他们都实现了以太坊相关的协议，可以用作部署以太坊节点。

### Beacon Chain

信标链。属于共识层，是共识客户端所维护的一条链，独立于（？应该）以太坊的主链。

### ETH & cryptocurrencies

ETH是以太坊生态中的重要一环，可以用于交易，也可以用于支付燃料费等。其他类型的加密货币可以通过部署智能合约来创造。

### Gas Fee & Smart Contract

智能合约本质上是可执行的代码片段，它会被自动触发执行，对固定的输入有固定的输出，一旦发布任何人都无法更改。

EVM可以看作烧燃料(Gas)的机器。EVM执行的是智能合约编译后的操作码，而EVM每一句操作码的执行都需要燃烧固定单位的燃料。执行不同操作码所需要的燃料也不同，例如加法只需要3个单位的燃料，但是模乘就需要8个单位。EVM规定最大燃料单位为21000个单位，也就是说EVM执行一次智能合约所耗费的燃料最多只能燃烧21000个单位，对应过来也就是说一个智能合约必须要小于24KB，如果大于24KB那么可能会出现即使21000个单位的燃料全部燃烧殆尽了也无法将智能合约全部执行完毕的情况，不过现在可以使用钻石模式来规避24KB的限制。

很显然燃料需要购买，虽然EVM本质和烧燃油的车完全不一样，但是这个类比却很一致。基础Gas费就是1单位燃料的价格，目前基础Gas费为$14\ Gwei = 14\cdot10^{-9}\ ETH$，基础Gas费由当前EVM的状态、区块产出高度等决定。但是通常Gas 费还会包含小费，这是给区块产出者的奖励，通常小费越高这笔交易就会越优先被打包进区块并产出。

执行一次智能合约需要消耗的总费用 $total = units\cdot(base+tip)$，用户给的燃料费需不低于这个数值，智能合约执行结束后，多余的燃料费将被退回。

当然将EVM比喻为燃油车有一个地方不恰当：燃油车燃烧的是汽油，购买汽油的钱给了加油站，钱并没有消失而是转移了，对车主来说是将钱换成了汽油；EVM燃烧的是ETH，这部分基础燃油费ETH会被直接销毁，而不是发生转移。

为什么EVM执行智能合约一定要燃烧ETH呢？没有ETH的投入完全可以执行智能合约，但是无需成本即可执行智能合约会使得EVM本身被容易受到攻击，被恶意消耗计算资源，出于安全考量才人为规定EVM执行智能合约必须付出成本，即燃烧ETH

### Address & Wallet

一份私钥就代表了一个身份，公钥可有私钥单项导出，地址可由公钥单项导出。一组助记词与一个私钥一一对应，方便记忆和保存私钥，助记词可以恢复私钥，私钥也可以导出助记词，因此一组助记词千万不可泄露。

web3钱包用于管理一个私钥拥有的加密货币资产，当给出助记词后钱包能帮我们恢复私钥，之后选择我们想要连接的链，例如以太坊主网，连接成功之后钱包根据我们的地址、私钥等为我们提供查询此链上的资产、发送或接受代币等服务。相同的地址连接到不同的链就能管理不同链上的资产。

同时，当我们使用DApp时，通常需要连接到钱包，此时的钱包还具有管理web3身份的功能。

### DApp

使用Wallet作为身份的去中心化应用。传统架构通常是中心化服务器上运行服务端程序，客户端程序或者前端网页向后端服务器程序请求各种数据，服务器程序提供服务。去中心化应用的特点是仅有前端没有传统意义上的后端。一个 DApp 的后端代码在一个去中心化 P2P 网络上运行，例如以太坊智能合约在所有以太坊节点上的EVM内运行。

仅有前端没有后端的DApp的特点是智能合约完全透明，也就是说部署智能合约之前必须严格测试合约。当然也存在混合的架构，即前端-后端-合约，这样会降低应用的去中心化程度，但是能够提高可扩展性。

DApp 可以用任何语言编写，它有前端代码和用户界面，能调用其后端，例如和以太坊主链交互。它的前端、需要保存的资源等大型文件可以选择中心化服务器托管，也可以直接托管在去中心化存储上，例如 [IPFS](https://ipfs.io/)。

### DAO

去中心化自制组织，比如一些论坛之类的，特点是去中心化、拥有投票机制、存在经济系统。

### Layer-2

以太坊网络是一层网络，保证了安全性和去中心化的特性，但是性能很差，L2网络构建在一层网络上，主要解决容量（性能）问题，把L2上的交易打包发回L1，做到降低燃料费和提高速度的目的，通常通过卷叠（分为乐观卷叠和零知识卷叠）来保证L2上数据的安全性。
